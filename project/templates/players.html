{% extends "index.html" %}

{% block title %}Players list{% endblock %}

{% block menu %}
 <li><a href="{% url 'index' %}">Home</a></li>
 <li class="active"><a href="{% url 'players' %}">Players</a></li>
 <li><a href="{% url 'matchs' %}">Matchs</a></li>
{% endblock %}

{% block content %}

<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">Players list</h3>
  </div>
  <div class="panel-body">
	<!-- Panel content -->
	<table class="table">
	 <thead>
	  <tr>
	    <th>Id</th>
	    <th>Name</th>
	    <th>Age</th>
	    <th>Matchs</th>
	  </tr>
	 </thead>
	 <tbody>
	  {% for p in players  %}
	  <tr>
	    <td>{{p.id}}</td>
	    <td>{{p.name}}</td>
	    <td>{{p.age}}</td>
	    <!-- Generate dynamic link -->
	    <td><a href="{% url 'player_details' p.id %}">view details <span class="badge">{{ p.matchs.count}}</span></a></td>
	  </tr>
	  {% endfor %}
	 </tbody>
	</table>
   </div>
</div>

{% endblock %}
